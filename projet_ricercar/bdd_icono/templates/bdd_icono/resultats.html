{% extends "bdd_icono/base.html" %}
{% load static %}

{% block contenu %}
{%if param != '' %}
{{images.count}} Resultats pour : {{param}}
{%endif%}
<div class="container">
  <h1 class="text-center courgette">Résultats</h1>
</div>
<br>
<div class="container my-4">
  {% for image in images %}
  <div class="row justify-content-center align-items-start mb-2">
    <div class="col-md-2 m-2 border rounded bg-dark">
      <a href="{% url 'image' image.id %}"><img src="../../media/bdd_icono/miniatures/{{ image.n_cesr }}.jpg" class="img-fluid"
        alt="Image {{ image.n_cesr }}"></a>
      
    </div>
    <div class="col-md-5 m-2 p-2 bg-light border rounded d-flex flex-column justify-content-between">
      <div>
        <p>
          <strong>Cote :</strong>{{ image.cote }}<br>
        <strong>Auteur(s) :</strong>{{ image.fk_extrait_de.fk_auteur.auteur_nom }}<br>
        <strong>Légende :</strong> {{ image.legende }}<br>
        <strong>Date : </strong>{{ image.fk_extrait_de.date_creation }}</p>
      </div>
      <div>
        <a class="btn btn-ric" href="{% url 'image' image.id %}">Voir l'image</a>
      </div>
    </div>
  </div>
  {% endfor %}
</div>


{% comment %} {%if images.paginator.num_pages > 1 %}
<div class="pagination">
  <span class="step-links">
    {% if images.has_previous %}
    <a href="?page=1">Première page</a>
    {% if images.previous_page_number != 1 %}
    <a href="?page={{ images.previous_page_number }}">Page {{images.previous_page_number}}</a>
    {%endif%}
    {% endif %}
    <span class="current">
      Page {{ images.number }} sur {{ images.paginator.num_pages }}.
    </span>
    {% if images.has_next %}
    {% if images.next_page_number != images.paginator.num_pages%}
    <a href="?page={{ images.next_page_number }}">Page {{images.next_page_number}}</a>
    {%endif%}
    <a href="?page={{ images.paginator.num_pages }}">Dernière page</a>
    {% endif %}
  </span>
</div>
{% endif %} {% endcomment %}
{% endblock %}